{"ast":null,"code":"var _jsxFileName = \"/Users/max/Desktop/Code/react-jobly/src/profiles/ProfileForm.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport UserContext from \"../auth/UserContext\";\nimport JoblyApi from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfileForm = () => {\n  _s();\n  const {\n    currentUser,\n    setCurrentUser\n  } = useContext(UserContext);\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    firstName: currentUser.firstName,\n    lastName: currentUser.lastName,\n    email: currentUser.email,\n    username: currentUser.username,\n    password: \"\"\n  });\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(f => ({\n      ...f,\n      [name]: value\n    }));\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    let profileData = {\n      firstName: formData.firstName,\n      lastName: formData.lastName,\n      email: formData.email,\n      password: formData.password\n    };\n    let username = formData.username;\n    let updatedUser;\n    try {\n      updatedUser = await JoblyApi.saveProfile(username, profileData);\n    } catch (e) {\n      alert(e);\n      return;\n    }\n    setFormData(f => ({\n      ...f,\n      password: \"\"\n    }));\n\n    // update user object in context.\n    setCurrentUser(updatedUser);\n    navigate(\"/\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-md-6 col-lg-4 offset-md-3 offset-lg-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Update Your Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          disabled: true,\n          className: \"form-control\",\n          value: currentUser.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"First Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          name: \"firstName\",\n          value: formData.firstName,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Last Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          name: \"lastName\",\n          value: formData.lastName,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          name: \"email\",\n          value: formData.email,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Confirm Your Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"**************\",\n          className: \"form-control\",\n          value: formData.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary btn-block mt-4\",\n          onClick: handleSubmit,\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfileForm, \"DpgSqDcvnKVqHsVxV2L1QVY2/S4=\", false, function () {\n  return [useNavigate];\n});\n_c = ProfileForm;\nexport default ProfileForm;\nvar _c;\n$RefreshReg$(_c, \"ProfileForm\");","map":{"version":3,"names":["React","useContext","useState","useNavigate","UserContext","JoblyApi","jsxDEV","_jsxDEV","ProfileForm","_s","currentUser","setCurrentUser","navigate","formData","setFormData","firstName","lastName","email","username","password","handleChange","e","name","value","target","f","handleSubmit","preventDefault","profileData","updatedUser","saveProfile","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","disabled","onChange","type","placeholder","onClick","_c","$RefreshReg$"],"sources":["/Users/max/Desktop/Code/react-jobly/src/profiles/ProfileForm.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport UserContext from \"../auth/UserContext\";\nimport JoblyApi from \"../api\";\n\nconst ProfileForm = () => {\n  const { currentUser, setCurrentUser } = useContext(UserContext);\n\n  const navigate = useNavigate();\n\n  const [formData, setFormData] = useState({\n    firstName: currentUser.firstName,\n    lastName: currentUser.lastName,\n    email: currentUser.email,\n    username: currentUser.username,\n    password: \"\",\n  });\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setFormData((f) => ({\n      ...f,\n      [name]: value,\n    }));\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    let profileData = {\n      firstName: formData.firstName,\n      lastName: formData.lastName,\n      email: formData.email,\n      password: formData.password,\n    };\n\n    let username = formData.username;\n    let updatedUser;\n\n    try {\n      updatedUser = await JoblyApi.saveProfile(username, profileData);\n    } catch (e) {\n      alert(e);\n      return;\n    }\n\n    setFormData((f) => ({ ...f, password: \"\" }));\n\n    // update user object in context.\n    setCurrentUser(updatedUser);\n    navigate(\"/\");\n  }\n\n  return (\n    <div className=\"col-md-6 col-lg-4 offset-md-3 offset-lg-4\">\n      <h1>Update Your Profile</h1>\n      <form>\n        <div className=\"form-group\">\n          <label>Username</label>\n          <input\n            disabled\n            className=\"form-control\"\n            value={currentUser.username}\n          />\n          <label>First Name</label>\n          <input\n            className=\"form-control\"\n            name=\"firstName\"\n            value={formData.firstName}\n            onChange={handleChange}\n          />\n\n          <label>Last Name</label>\n          <input\n            className=\"form-control\"\n            name=\"lastName\"\n            value={formData.lastName}\n            onChange={handleChange}\n          />\n          <label>Email</label>\n          <input\n            className=\"form-control\"\n            name=\"email\"\n            value={formData.email}\n            onChange={handleChange}\n          />\n          <label>Confirm Your Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"**************\"\n            className=\"form-control\"\n            value={formData.password}\n            onChange={handleChange}\n          />\n\n          <button\n            className=\"btn btn-primary btn-block mt-4\"\n            onClick={handleSubmit}\n          >\n            Update\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default ProfileForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}