{"ast":null,"code":"var _jsxFileName = \"/Users/max/Desktop/Code/react-jobly/src/profiles/ProfileForm.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport UserContext from \"../auth/UserContext\";\nimport JoblyApi from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfileForm = () => {\n  _s();\n  const {\n    currentUser,\n    setCurrentUser\n  } = useContext(UserContext);\n  const [formData, setFormData] = useState({\n    firstName: currentUser.firstName,\n    lastName: currentUser.lastName,\n    email: currentUser.email,\n    username: currentUser.username,\n    password: \"\"\n  });\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(f => ({\n      ...f,\n      [name]: value\n    }));\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    let profileData = {\n      firstName: formData.firstName,\n      lastName: formData.lastName,\n      email: formData.email,\n      password: formData.password\n    };\n    let username = formData.username;\n    let updatedUser;\n    try {\n      updatedUser = await JoblyApi.saveProfile(username, profileData);\n    } catch (e) {\n      console.error(new Error(e));\n      return;\n    }\n    setFormData(f => ({\n      ...f,\n      password: \"\"\n    }));\n\n    // update user object in context.\n    setCurrentUser(updatedUser);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-md-6 col-lg-4 offset-md-3 offset-lg-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Update Your Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          disabled: true,\n          className: \"form-control\",\n          value: currentUser.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"First Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          name: \"firstName\",\n          value: formData.firstName,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Last Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          name: \"lastName\",\n          value: formData.lastName,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          name: \"email\",\n          value: formData.email,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Confirm password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"**************\",\n          className: \"form-control\",\n          value: formData.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary btn-block mt-4\",\n          onClick: handleSubmit,\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfileForm, \"YexDU/V/I6ZI4fkUuKYsEBJI88s=\");\n_c = ProfileForm;\nexport default ProfileForm;\nvar _c;\n$RefreshReg$(_c, \"ProfileForm\");","map":{"version":3,"names":["React","useContext","useState","UserContext","JoblyApi","jsxDEV","_jsxDEV","ProfileForm","_s","currentUser","setCurrentUser","formData","setFormData","firstName","lastName","email","username","password","handleChange","e","name","value","target","f","handleSubmit","preventDefault","profileData","updatedUser","saveProfile","console","error","Error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","disabled","onChange","type","placeholder","onClick","_c","$RefreshReg$"],"sources":["/Users/max/Desktop/Code/react-jobly/src/profiles/ProfileForm.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport UserContext from \"../auth/UserContext\";\nimport JoblyApi from \"../api\";\n\nconst ProfileForm = () => {\n  const { currentUser, setCurrentUser } = useContext(UserContext);\n  const [formData, setFormData] = useState({\n    firstName: currentUser.firstName,\n    lastName: currentUser.lastName,\n    email: currentUser.email,\n    username: currentUser.username,\n    password: \"\",\n  });\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setFormData((f) => ({\n      ...f,\n      [name]: value,\n    }));\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    let profileData = {\n      firstName: formData.firstName,\n      lastName: formData.lastName,\n      email: formData.email,\n      password: formData.password,\n    };\n\n    let username = formData.username;\n    let updatedUser;\n\n    try {\n      updatedUser = await JoblyApi.saveProfile(username, profileData);\n    } catch (e) {\n      console.error(new Error(e));\n      return;\n    }\n\n    setFormData((f) => ({ ...f, password: \"\" }));\n\n    // update user object in context.\n    setCurrentUser(updatedUser);\n  }\n\n  return (\n    <div className=\"col-md-6 col-lg-4 offset-md-3 offset-lg-4\">\n      <h1>Update Your Profile</h1>\n      <form>\n        <div className=\"form-group\">\n          <label>Username</label>\n          <input\n            disabled\n            className=\"form-control\"\n            value={currentUser.username}\n          />\n          <label>First Name</label>\n          <input\n            className=\"form-control\"\n            name=\"firstName\"\n            value={formData.firstName}\n            onChange={handleChange}\n          />\n\n          <label>Last Name</label>\n          <input\n            className=\"form-control\"\n            name=\"lastName\"\n            value={formData.lastName}\n            onChange={handleChange}\n          />\n          <label>Email</label>\n          <input\n            className=\"form-control\"\n            name=\"email\"\n            value={formData.email}\n            onChange={handleChange}\n          />\n          <label>Confirm password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"**************\"\n            className=\"form-control\"\n            value={formData.password}\n            onChange={handleChange}\n          />\n\n          <button\n            className=\"btn btn-primary btn-block mt-4\"\n            onClick={handleSubmit}\n          >\n            Update\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default ProfileForm;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AACnD,OAAOC,WAAW,MAAM,qBAAqB;AAC7C,OAAOC,QAAQ,MAAM,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM;IAAEC,WAAW;IAAEC;EAAe,CAAC,GAAGT,UAAU,CAACE,WAAW,CAAC;EAC/D,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC;IACvCW,SAAS,EAAEJ,WAAW,CAACI,SAAS;IAChCC,QAAQ,EAAEL,WAAW,CAACK,QAAQ;IAC9BC,KAAK,EAAEN,WAAW,CAACM,KAAK;IACxBC,QAAQ,EAAEP,WAAW,CAACO,QAAQ;IAC9BC,QAAQ,EAAE;EACZ,CAAC,CAAC;EAEF,SAASC,YAAYA,CAACC,CAAC,EAAE;IACvB,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCV,WAAW,CAAEW,CAAC,KAAM;MAClB,GAAGA,CAAC;MACJ,CAACH,IAAI,GAAGC;IACV,CAAC,CAAC,CAAC;EACL;EAEA,eAAeG,YAAYA,CAACL,CAAC,EAAE;IAC7BA,CAAC,CAACM,cAAc,CAAC,CAAC;IAElB,IAAIC,WAAW,GAAG;MAChBb,SAAS,EAAEF,QAAQ,CAACE,SAAS;MAC7BC,QAAQ,EAAEH,QAAQ,CAACG,QAAQ;MAC3BC,KAAK,EAAEJ,QAAQ,CAACI,KAAK;MACrBE,QAAQ,EAAEN,QAAQ,CAACM;IACrB,CAAC;IAED,IAAID,QAAQ,GAAGL,QAAQ,CAACK,QAAQ;IAChC,IAAIW,WAAW;IAEf,IAAI;MACFA,WAAW,GAAG,MAAMvB,QAAQ,CAACwB,WAAW,CAACZ,QAAQ,EAAEU,WAAW,CAAC;IACjE,CAAC,CAAC,OAAOP,CAAC,EAAE;MACVU,OAAO,CAACC,KAAK,CAAC,IAAIC,KAAK,CAACZ,CAAC,CAAC,CAAC;MAC3B;IACF;IAEAP,WAAW,CAAEW,CAAC,KAAM;MAAE,GAAGA,CAAC;MAAEN,QAAQ,EAAE;IAAG,CAAC,CAAC,CAAC;;IAE5C;IACAP,cAAc,CAACiB,WAAW,CAAC;EAC7B;EAEA,oBACErB,OAAA;IAAK0B,SAAS,EAAC,2CAA2C;IAAAC,QAAA,gBACxD3B,OAAA;MAAA2B,QAAA,EAAI;IAAmB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5B/B,OAAA;MAAA2B,QAAA,eACE3B,OAAA;QAAK0B,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzB3B,OAAA;UAAA2B,QAAA,EAAO;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACvB/B,OAAA;UACEgC,QAAQ;UACRN,SAAS,EAAC,cAAc;UACxBX,KAAK,EAAEZ,WAAW,CAACO;QAAS;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B,CAAC,eACF/B,OAAA;UAAA2B,QAAA,EAAO;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACzB/B,OAAA;UACE0B,SAAS,EAAC,cAAc;UACxBZ,IAAI,EAAC,WAAW;UAChBC,KAAK,EAAEV,QAAQ,CAACE,SAAU;UAC1B0B,QAAQ,EAAErB;QAAa;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxB,CAAC,eAEF/B,OAAA;UAAA2B,QAAA,EAAO;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACxB/B,OAAA;UACE0B,SAAS,EAAC,cAAc;UACxBZ,IAAI,EAAC,UAAU;UACfC,KAAK,EAAEV,QAAQ,CAACG,QAAS;UACzByB,QAAQ,EAAErB;QAAa;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxB,CAAC,eACF/B,OAAA;UAAA2B,QAAA,EAAO;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACpB/B,OAAA;UACE0B,SAAS,EAAC,cAAc;UACxBZ,IAAI,EAAC,OAAO;UACZC,KAAK,EAAEV,QAAQ,CAACI,KAAM;UACtBwB,QAAQ,EAAErB;QAAa;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxB,CAAC,eACF/B,OAAA;UAAA2B,QAAA,EAAO;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAChC/B,OAAA;UACEkC,IAAI,EAAC,UAAU;UACfpB,IAAI,EAAC,UAAU;UACfqB,WAAW,EAAC,gBAAgB;UAC5BT,SAAS,EAAC,cAAc;UACxBX,KAAK,EAAEV,QAAQ,CAACM,QAAS;UACzBsB,QAAQ,EAAErB;QAAa;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxB,CAAC,eAEF/B,OAAA;UACE0B,SAAS,EAAC,gCAAgC;UAC1CU,OAAO,EAAElB,YAAa;UAAAS,QAAA,EACvB;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;AAAC7B,EAAA,CAjGID,WAAW;AAAAoC,EAAA,GAAXpC,WAAW;AAmGjB,eAAeA,WAAW;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}